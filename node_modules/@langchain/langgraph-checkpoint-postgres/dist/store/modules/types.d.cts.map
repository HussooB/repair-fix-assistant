{"version":3,"file":"types.d.cts","names":["pg","Item","Embeddings","Promise","EmbeddingsFunc","VectorIndexType","DistanceMetric","HNSWConfig","IVFFlatConfig","IndexConfig","TTLConfig","FilterOperators","SearchItem","SearchOptions","Record","PutOptions","PostgresStoreConfig","PoolConfig"],"sources":["../../../src/store/modules/types.d.ts"],"sourcesContent":["import pg from \"pg\";\nimport type { Item } from \"@langchain/langgraph-checkpoint\";\n/**\n * Interface for embedding models.\n * Compatible with LangChain's Embeddings interface.\n */\nexport interface Embeddings {\n    embedDocuments(texts: string[]): Promise<number[][]>;\n    embedQuery(text: string): Promise<number[]>;\n}\nexport type EmbeddingsFunc = (texts: string[]) => Promise<number[][]>;\nexport type VectorIndexType = \"ivfflat\" | \"hnsw\";\nexport type DistanceMetric = \"cosine\" | \"l2\" | \"inner_product\";\nexport interface HNSWConfig {\n    /**\n     * Maximum number of connections for each node in the graph.\n     * Higher values improve recall but increase memory usage and build time.\n     * @default 16\n     */\n    m?: number;\n    /**\n     * Size of the dynamic candidate list during construction.\n     * Higher values improve index quality but increase build time.\n     * @default 200\n     */\n    efConstruction?: number;\n    /**\n     * Size of the dynamic candidate list during search.\n     * Higher values improve recall but increase search time.\n     * Can be adjusted per query for performance tuning.\n     * @default 40\n     */\n    ef?: number;\n}\nexport interface IVFFlatConfig {\n    /**\n     * Number of inverted lists (clusters).\n     * Rule of thumb: sqrt(number_of_rows) for good performance.\n     * @default 100\n     */\n    lists?: number;\n    /**\n     * Number of probes to use during search.\n     * Higher values improve recall but increase search time.\n     * @default 1\n     */\n    probes?: number;\n}\nexport interface IndexConfig {\n    /**\n     * Number of dimensions in the embedding vectors.\n     */\n    dims: number;\n    /**\n     * Embedding function to generate embeddings from text.\n     * Can be a LangChain Embeddings instance or a function.\n     */\n    embed: Embeddings | EmbeddingsFunc;\n    /**\n     * Fields to extract text from for embedding generation.\n     * Uses JSON path syntax. Defaults to [\"$\"] (entire document).\n     */\n    fields?: string[];\n    /**\n     * Vector index type to use.\n     * - 'hnsw': Hierarchical Navigable Small World (best for most use cases)\n     * - 'ivfflat': Inverted File with Flat compression (good for large datasets)\n     * @default 'hnsw'\n     */\n    indexType?: VectorIndexType;\n    /**\n     * Distance metric for vector similarity.\n     * @default 'cosine'\n     */\n    distanceMetric?: DistanceMetric;\n    /**\n     * HNSW-specific configuration parameters.\n     * Only used when indexType is 'hnsw'.\n     */\n    hnsw?: HNSWConfig;\n    /**\n     * IVFFlat-specific configuration parameters.\n     * Only used when indexType is 'ivfflat'.\n     */\n    ivfflat?: IVFFlatConfig;\n    /**\n     * Whether to create indexes for all distance metrics.\n     * If false, only creates index for the specified distanceMetric.\n     * @default false\n     */\n    createAllMetricIndexes?: boolean;\n}\nexport interface TTLConfig {\n    /**\n     * Default TTL in minutes for new items.\n     */\n    defaultTtl?: number;\n    /**\n     * Whether to refresh TTL on read operations by default.\n     * @default true\n     */\n    refreshOnRead?: boolean;\n    /**\n     * Interval in minutes between TTL sweep operations.\n     * @default 60\n     */\n    sweepIntervalMinutes?: number;\n}\nexport interface FilterOperators {\n    $eq?: string | number | boolean | null;\n    $ne?: string | number | boolean | null;\n    $gt?: string | number;\n    $gte?: string | number;\n    $lt?: string | number;\n    $lte?: string | number;\n    $in?: (string | number | boolean | null)[];\n    $nin?: (string | number | boolean | null)[];\n    $exists?: boolean;\n}\nexport interface SearchItem extends Item {\n    /**\n     * Relevance/similarity score for the search result.\n     */\n    score?: number;\n}\nexport interface SearchOptions {\n    /**\n     * Filter conditions with support for advanced operators.\n     */\n    filter?: Record<string, string | number | boolean | null | FilterOperators>;\n    /**\n     * Natural language search query.\n     */\n    query?: string;\n    /**\n     * Maximum number of results to return.\n     * @default 10\n     */\n    limit?: number;\n    /**\n     * Number of results to skip for pagination.\n     * @default 0\n     */\n    offset?: number;\n    /**\n     * Whether to refresh TTL for returned items.\n     */\n    refreshTtl?: boolean;\n}\nexport interface PutOptions {\n    /**\n     * TTL in minutes for this item.\n     */\n    ttl?: number;\n}\nexport interface PostgresStoreConfig {\n    /**\n     * PostgreSQL connection string or connection configuration object.\n     *\n     * @example\n     * // Connection string\n     * \"postgresql://user:password@localhost:5432/database\"\n     *\n     * // Configuration object\n     * {\n     *   host: \"localhost\",\n     *   port: 5432,\n     *   database: \"mydb\",\n     *   user: \"postgres\",\n     *   password: \"password\"\n     * }\n     */\n    connectionOptions: string | pg.PoolConfig;\n    /**\n     * Database schema name to use for store tables.\n     * @default \"public\"\n     */\n    schema?: string;\n    /**\n     * Whether to automatically create tables if they don't exist.\n     * @default true\n     */\n    ensureTables?: boolean;\n    /**\n     * TTL configuration for automatic expiration of items.\n     */\n    ttl?: TTLConfig;\n    /**\n     * Vector search configuration for semantic search capabilities.\n     * If provided, enables vector similarity search using pgvector extension.\n     */\n    index?: IndexConfig;\n    /**\n     * Language for PostgreSQL full-text search operations.\n     * Supports any language configuration available in PostgreSQL.\n     * @default \"english\"\n     */\n    textSearchLanguage?: string;\n}\n"],"mappings":";;;;;;;AAMA;;AACqCG,UADpBD,UAAAA,CACoBC;gBACPA,CAAAA,KAAAA,EAAAA,MAAAA,EAAAA,CAAAA,EADOA,OACPA,CAAAA,MAAAA,EAAAA,EAAAA,CAAAA;4BAAAA;AAE9B;AACYE,KADAD,cAAAA,GACe,CAAA,KAAA,EAAA,MAAA,EAAA,EAAA,GADuBD,OACvB,CAAA,MAAA,EAAA,EAAA,CAAA;AACfG,KADAD,eAAAA,GACc,SAAA,GAAA,MAAA;AACTE,KADLD,cAAAA,GACe,QAAA,GAAA,IAAA,GAAA,eAAA;AAqBVE,UArBAD,UAAAA,CAqBa;EAcbE;;;;;MA0BIH,MAAAA;;;;AAkBrB;AAgBA;EAWiBM,cAAU,CAAA,EAAA,MAAA;EAMVC;;;;;AAwBjB;EAMiBG,EAAAA,CAAAA,EAAAA,MAAAA;;AAiBehB,UA1IfQ,aAAAA,CA0IkBS;;;;;;;;;;;;;;UA5HlBR,WAAAA;;;;;;;;;SASNP,aAAaE;;;;;;;;;;;;cAYRC;;;;;mBAKKC;;;;;SAKVC;;;;;YAKGC;;;;;;;;UAQGE,SAAAA;;;;;;;;;;;;;;;;UAgBAC,eAAAA;;;;;;;;;;;UAWAC,UAAAA,SAAmBX;;;;;;UAMnBY,aAAAA;;;;WAIJC,kDAAkDH;;;;;;;;;;;;;;;;;;;;UAoB9CI,UAAAA;;;;;;UAMAC,mBAAAA;;;;;;;;;;;;;;;;;8BAiBehB,EAAAA,CAAGiB;;;;;;;;;;;;;;QAczBP;;;;;UAKED"}